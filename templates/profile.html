{% extends "layout.html" %}

{% block title %}
Profile
{% endblock %}

{% block body %}

    <div class="container-fluid container-profile" style="padding-top: 1%;">
        <div class="profile-head bg-danger text-center" style="border: none; box-shadow: 0px 0px 5px 0px rgba(247,15,15,0.81);">
            <div class="profile-picture">
              <img src="static/image_profile/img{{ profile[0] }}.jpg" alt="Profile Avatar" class="img-fluid" style="width: 200px; height: 200px;">
            </div>
            <div style="color: white;">
                <h3>{{ profile[2] }}</h3>
            </div>
            <div style="color: white;">
                {{ profile[3] }}
            </div>
            <div class="d-flex d-flex justify-content-center">
                <div class="p-2"><a href="{{ social_media[2] }}" title="Facebook" target="_blank"><img src="/static/images/facebook.png" height="30px"></a></div>
                <div class="p-2"><a href="{{ social_media[3] }}" title="Twitter" target="_blank"><img src="/static/images/twitter.png" height="30px"></a></div>
                <div class="p-2"><a href="{{ social_media[4] }}" title="Linkedin" target="_blank"><img src="/static/images/linkedin.png" height="30px"></a></div>
                <div class="p-2"><a href="{{ social_media[5] }}" title="Instagram" target="_blank"><img src="/static/images/instagram.png" height="30px"></a></div>
                <div class="p-2"><a href="{{ social_media[6] }}" title="Tiktok" target="_blank"><img src="/static/images/tiktok.png" height="30px"></a></div>
            </div>
            <!-- Start of Edit popup-->
            <!-- Button trigger modal -->
            <div class="d-grid gap-2 d-md-flex justify-content-md-end popup-container">
              <div style="padding-right: 1%; padding-bottom: 0.5%;">
                <button type="button" class="btn btn-outline-light" data-bs-toggle="modal" data-bs-target="#exampleModal">Edit profile</button>
                </div>
                <!-- Modal -->
                <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog">
                      <div class="modal-content">
                        <form action="/update-investor-profile" method="post">
                        <div class="modal-header">
                          <h5 class="modal-title" id="exampleModalLabel">Edit profile</h5>
                          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                          <!--Edit Body-->
                          <div class="mb-0 hidden">
                            <label class="form-label">ID</label>
                            <input name="id" readonly type="text" class="form-control" placeholder="{{ profile[0] }}" value="{{ profile[0] }}" required>
                          </div>
                          <div class="mb-0">
                            <label class="form-label">Name<r class="required-field"> *</r></label>
                            <input name="name" type="text" class="form-control" placeholder="{{ profile[2] }}" value="{{ profile[2] }}" required>
                          </div>
                          <div class="mb-0">
                            <label class="form-label">Designation</label>
                            <input name="designation" readonly type="text" class="form-control" placeholder="{{ profile[3] }}" value="{{ profile[3] }}">
                          </div>
                          <div class="mb-0">
                            <label class="form-label">Education</label>
                            <input name="education" type="text" class="form-control" placeholder="{{ profile[4] }}" value="{{ profile[4] }}">
                          </div>
                          <div class="mb-0">
                            <label class="form-label">Birth date<r class="required-field"> *</r></label>
                            <input name="dob" type="date" class="form-control" placeholder="{{ profile[6] }}" value="{{ profile[6] }}">
                          </div>
                          <div class="mb-0">
                            <label class="form-label">Gender<r class="required-field"> *</r></label>
                            <input name="gender" type="text" class="form-control" placeholder="{{ profile[5] }}" value="{{ profile[5] }}">
                          </div>
                          <div class="mb-0">
                            <label class="form-label">Email<r class="required-field"> *</r></label>
                            <input name="email" type="email" class="form-control" placeholder="{{ profile[7] }}" value="{{ profile[7] }}">
                          </div>
                          <div class="mb-0">
                            <label class="form-label">Phone<r class="required-field"> *</r></label>
                            <input name="phone" type="text" class="form-control" placeholder="{{ profile[8] }}" value="{{ profile[8] }}">
                          </div>
                          <div class="mb-0">
                            <label class="form-label">Address<r class="required-field"> *</r></label>
                            <input name="address" type="text" class="form-control" placeholder="{{ profile[9] }}" value="{{ profile[9] }}">
                          </div>
                          <div class="mb-0">
                            <label class="form-label">About me</label>
                            <textarea name="about_me" class="form-control" rows="6" placeholder="{{ profile[10] }}">{{ profile[10] }}</textarea>
                          </div><br>
                          <div class="accordion" id="SocialMediaLink">
                            <div class="accordion-item">
                              <h2 class="accordion-header">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
                                  Social Media Links
                                </button>
                              </h2>
                              <div id="collapseOne" class="accordion-collapse collapse" data-bs-parent="#SocialMediaLink">
                                <div class="accordion-body">
                                  <div class="mb-2">
                                    <label class="form-label">Facebook</label>
                                    <input name="facebook_url" type="text" class="form-control" placeholder="https://www.facebook.com/username" value="{{ social_media[2] }}">
                                  </div>
                                  <div class="mb-2">
                                    <label class="form-label">Twitter</label>
                                    <input name="twitter_url" type="text" class="form-control" placeholder="https://twitter.com/username" value="{{ social_media[3] }}">
                                  </div>
                                  <div class="mb-2">
                                    <label class="form-label">Linkedin</label>
                                    <input name="linkedin_url" type="text" class="form-control" placeholder="https://www.linkedin.com/in/username" value="{{ social_media[4] }}">
                                  </div>
                                  <div class="mb-2">
                                    <label class="form-label">Instagram</label>
                                    <input name="instagram_url" type="text" class="form-control" placeholder="https://www.instagram.com/username" value="{{ social_media[5] }}">
                                  </div>
                                  <div class="mb-2">
                                    <label class="form-label">Tiktok</label>
                                    <input name="tiktok_url" type="text" class="form-control" placeholder="https://www.tiktok.com/@username" value="{{ social_media[6] }}">
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                          <!--End Edit Body-->
                        </div>
                        <div class="modal-footer">
                          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                          <button type="submit" class="btn btn-danger">Save changes</button>
                        </div>
                        </form>
                      </div>
                    </div>
                  </div>
            </div>
            <!--End of Edit popup-->
        </div>
        <div class="row profile-body bg-white">
            <div class="col-sm-6">
                <div class="card" style="border: none; box-shadow: 0px -2px 5px 0px rgba(0,0,0,0.1);">
                    <div class="card-body">
                        <h4 class="card-title">General Information </h4>
                        <div class="mb-3">
                          <dl class="row">
                            <dt class="col-sm-3">Date of Birth: </dt>
                            <dd class="col-sm-9">{{ profile[6] }}</dd>
                          </dl>
                        </div>
                        <div class="mb-0">
                          <dl class="row">
                            <dt class="col-sm-3">Gender: </dt>
                            <dd class="col-sm-9">{{ profile[5] }}</dd>
                          </dl>
                      </div>
                        <div class="mb-0">
                          <dl class="row">
                            <dt class="col-sm-3">Education: </dt>
                            <dd class="col-sm-9">{{ profile[4] }}</dd>
                          </dl>
                      </div>
                        <div class="mb-0">
                          <dl class="row">
                            <dt class="col-sm-3">Email: </dt>
                            <dd class="col-sm-9">{{ profile[7] }}</dd>
                          </dl>
                        </div>
                        <div class="mb-0">
                          <dl class="row">
                            <dt class="col-sm-3">Phone: </dt>
                            <dd class="col-sm-9">{{ profile[8] }}</dd>
                          </dl>
                        </div>
                        <div class="mb-0">
                          <dl class="row">
                            <dt class="col-sm-3">Address: </dt>
                            <dd class="col-sm-9">{{ profile[9] }}</dd>
                          </dl>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-sm-6">
              <div class="card" style="border: none; box-shadow: 0px -2px 5px 0px rgba(0,0,0,0.1);">
                  <div class="card-body">
                      <h5 class="card-title">About Me</h5>
                      {% if profile[10] != None %}
                      {% for line in profile[10].split("\n") %}
                      <p>{{line}}</p>
                      {% endfor %}
                      {% endif %}
                      
                  </div>
              </div>  
          </div>
        </div>
    </div>
{% endblock %}